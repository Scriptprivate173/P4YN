repeat wait() until game and game.Players and game.Players.LocalPlayer

local player = game.Players.LocalPlayer
local username = player.Name
local whitelistURL = "https://raw.githubusercontent.com/scriptingman18/User/refs/heads/main/Name" -- Pon aquí tu URL que contenga los usernames, uno por línea

local success, result = pcall(function()
    return game:HttpGet(whitelistURL)
end)

if success then
    local isWhitelisted = false
    for line in string.gmatch(result, "[^\r\n]+") do
        if line == username then
            isWhitelisted = true
            break
        end
    end

    if isWhitelisted then
        print("✅ you are in the whitelist. Cargando script...")
        game.StarterGui:SetCore("SendNotification", {
            Title = "Acceso concedido",
            Text = "Bienvenido a la whitelist.",
            Duration = 5
        })
        -- Carga tu script real
        loadstring(game:HttpGet("https://raw.githubusercontent.com/scriptingman18/L/refs/heads/main/P", true))()
    else
        print("❌ you are not in the whitelist.")
        game.StarterGui:SetCore("SendNotification", {
            Title = "Acceso denegado",
            Text = "Tu cuenta no está en la whitelist.",
            Duration = 5
        })
    end
else
    warn("⚠️ Error al cargar whitelist: " .. tostring(result))
end
